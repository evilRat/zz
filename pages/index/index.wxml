<view class="container">
  <!-- é¡¶éƒ¨è‚¡ç¥¨/åŸºé‡‘é€‰æ‹©å™¨ -->
  <scroll-view class="stock-selector" scroll-x="true">
    <view class="stock-item {{currentStock === 'all' ? 'active' : ''}}" data-stock="all" bindtap="selectStock">å…¨éƒ¨</view>
    <view wx:for="{{stocks}}" wx:key="id" class="stock-item {{currentStock === item.code ? 'active' : ''}}" data-stock="{{item.code}}" bindtap="selectStock">
      {{item.name}}({{item.code}})
    </view>
  </scroll-view>

  <!-- äº¤æ˜“è®°å½•åˆ—è¡¨ -->
  <view class="trade-list">
    <view class="trade-header">
      <text>äº¤æ˜“è®°å½•</text>
      <text>è¯¦æƒ…</text>
    </view>
    
    <view wx:if="{{trades.length === 0}}" class="empty-state">
      <view class="empty-icon">ğŸ“Š</view>
      <view>æš‚æ— äº¤æ˜“è®°å½•</view>
      <view class="empty-hint">ç‚¹å‡»å³ä¸‹è§’æŒ‰é’®æ·»åŠ ç¬¬ä¸€æ¡è®°å½•</view>
    </view>
    
    <view wx:for="{{trades}}" wx:key="id" class="trade-item {{item.type}}" data-id="{{item.id}}" bindtap="goToDetail">
      <view class="trade-row">
        <view>
          <text class="stock-info">{{item.stockName}}</text>
          <view class="trade-info-row">
            <text class="trade-type trade-{{item.type}}">{{item.type === 'buy' ? 'ä¹°å…¥' : 'å–å‡º'}}</text>
            <text class="market-badge">{{item.market}}</text>
          </view>
        </view>
        <view class="trade-date-container">
          <text class="trade-date">{{item.date}}</text>
        </view>
      </view>
      
      <view class="trade-details">
        <view class="detail-item">
          <text class="detail-label">ä»·æ ¼</text>
          <text class="detail-value">Â¥{{item.price}}</text>
        </view>
        
        <view class="detail-item">
          <text class="detail-label">æ•°é‡</text>
          <text class="detail-value">{{item.quantity}}</text>
        </view>
        
        <view class="detail-item">
          <text class="detail-label">é‡‘é¢</text>
          <text class="detail-value detail-amount">Â¥{{item.amount}}</text>
        </view>
      </view>
      
      <view class="trade-footer">
        <view>
          <text class="detail-label">æœªåŒ¹é…: </text>
          <text class="detail-value">{{item.remainingQuantity || item.quantity}}</text>
        </view>
        <view wx:if="{{item.profit !== undefined}}">
          <text class="detail-label">æœ¬æ¬¡ç›ˆäº: </text>
          <text class="detail-value {{item.profit >= 0 ? 'profit-positive' : 'profit-negative'}}">
            Â¥{{item.profit}}
          </text>
        </view>
      </view>
    </view>
  </view>

  <!-- æ·»åŠ æŒ‰é’® -->
  <view class="add-button" bindtap="goToAddTrade"></view>
</view>